webpackJsonp([9],[function(e,n,t){(function(e){e(function(){function n(){var n=e(".pg-telephone").find("input").val(),t=e(".pg-ccode").find("input").val();return""===n?"请输入手机号码":/^1[3|4|5|7|8]\d{9}$/.test(n)?""===t?"请输入验证码":"":"手机号码不正确，请重新输入"}function t(){var n=60,t=setInterval(function(){n-=1,n>0?e(".pg-token-time").text(n):(e(".pg-token-time").text(""),e(".pg-token-text").text("获取验证码"),e(".pg-token").removeClass("done"),window.clearInterval(t))},1e3)}function a(n){var t=e(".pg-telephone").find("input").val(),a=e(".pg-ccode").find("input").val();if(!n.hasClass("done")){n.addClass("done");var i={telephone:t,code:a};e.ajax({url:"/napi/people/bind_telephone/",type:"POST",data:i,mysuccess:function(n,t){e.ajax({url:"/napi/life_artist/profile/create/",type:"POST",mysuccess:function(e,n){window.location.href="life.html"}})}}).always(function(){n.removeClass("done")})}}function i(n){if(!n.hasClass("done")){n.addClass("done");var a=e(".pg-telephone").find("input").val(),i={receiver:a,action:"bind_telephone",type:"sms"};e.ajax({url:"/napi/validation_code/send/",type:"POST",data:i,mysuccess:function(n){console.log(n),e(".pg-token-time").text("60"),e(".pg-token-text").text("s后重发"),t()}}).always(function(e){1===e.status?setTimeout(function(){n.removeClass("done")},6e4):n.removeClass("done")})}}function o(){var n=e(".pg-name").find("input").val(),t=e(".pg-gender-icon.on").data("gender"),a=e(".pg-age").find("input").val();return""===n||""===t||""===a?"请将个人信息填写完整":""}function r(n){var t=e(".pg-name").find("input").val(),a=e(".pg-gender-icon.on").data("gender"),i=e(".pg-age").find("input").val(),o={name:t,age:i,gender:a};e.ajax({url:"/napi/life_artist/profile/create/",type:"POST",data:o,mysuccess:function(e,n){window.location.href="life.html"}}).always(function(){n.removeClass("abtn-no")})}var c=e(document);c.on("click",".pg-token",function(){var t=n();if(0===t.length||"请输入验证码"===t){var a=e(this);i(a),e(".pg-cnt1-error").text("")}else e(".pg-cnt1-error").text(t)}).on("click",".pg-next",function(){var t=n();if(0===t.length){var i=e(this);a(i),e(".pg-cnt1-error").text("")}else e(".pg-cnt1-error").text(t)}).on("click",".pg-finish",function(){var n=o();0===n.length?(e(".pg-cnt2-error").text(""),r()):e(".pg-cnt2-error").text(n)}).on("click",".pg-gender-item",function(){var n=e(this);e(".pg-gender-icon").removeClass("on"),n.find(".pg-gender-icon").addClass("on")})})}).call(n,t(1))}]);