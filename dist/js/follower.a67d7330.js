webpackJsonp([16],{0:function(a,t,e){var s=e(1),i=e(33);e(73),e(20);var n=e(50);s(function(){function a(){if(r.user_id){var a=parseInt(r.page-1)*e||0;t(a)}}function t(a){var t={user_id:r.user_id},i={start:a,limit:e,user_id:r.user_id};s.ajax({url:"/napi/friendship/fans/",type:"GET",data:i,mysuccess:function(a){s(".rs-plist").empty(),a.data.object_list.length>=1&&(a.data.hasFollower=!0);var i=s("title").text();a.data.login_user.user_id===a.data.visit_user.user_id?(a.data.userSelf=!0,s("title").text("我"+i)):s("title").text(a.data.visit_user.username+i),s.each(a.data.object_list,function(t,e){s.inArray("personal_certify",e.identity)>=0?e.isIdentity=!0:e.isIdentity=!1,e.avatar=s.G.dtImageTrans(e.avatar,!0,48,48,"c"),e.opts=!0,e.id===a.data.login_user.user_id&&(e.opts=!1),parseInt(e.score)>200&&(e.isDaren=!0),2===e.relationship||3===e.relationship||a.data.login_user.is_letter_trusted?e.sendMesAbled=!0:e.sendMesAbled=!1});var r=u(a.data),l=p(a.data);s(".rs-plist").append(r),s(".nav-box").append(l),s("#pg-pager").paginator({next_start:a.data.next_start,limit:e,total:a.data.total,baseurl:"/people/follower/list/",searcharg:t}),n.init("#pp-dblist"),s("#pp-dblist").SGfollow("a[data-follow]")}}).always(function(){})}var e=10,r=s.G.getParams(window.location.href);i.registerHelper("if_eq",function(a,t,e){return a===t?e.fn(this):e.inverse(this)});var l=s("#follow-tmpl").html(),o=s("#nav-tmpl").html(),u=i.compile(l),p=i.compile(o);a(),i.registerHelper("ifCond",function(a,t,e,s){switch(t){case"==":return a==e?s.fn(this):s.inverse(this);case"===":return a===e?s.fn(this):s.inverse(this);case"<":return e>a?s.fn(this):s.inverse(this);case"<=":return e>=a?s.fn(this):s.inverse(this);case">":return a>e?s.fn(this):s.inverse(this);case">=":return a>=e?s.fn(this):s.inverse(this);case"!=":return a!=e?s.fn(this):s.inverse(this);case"&&":return a&&e?s.fn(this):s.inverse(this);case"||":return a||e?s.fn(this):s.inverse(this);default:return s.inverse(this)}})})},50:function(a,t,e){var s=e(1),i=e(4);e(51),e(9);var n=function(){function a(a){var e=s("#Mess-send");e.length||(e=s('<div id="Mess-send" class="win-wraper Mess-send"> <form id="form-message" method="post"> <input type="hidden" name="action" value="sendmsg"/> <textarea id="txa-message" name="msg" class="txa"></textarea> <div class="clr mt8"> <a class="abtn l" target="_self" href="javascript:;" ><button type="submit"><u>发送</u></button></a> </div> <input type="hidden" id="Mess-toid" name="user_id" value=""/> </form> </div>'),s.G.store(e)),e.find("form").safeSubmit(function(a){t(this)}),s("[data-sendto]",a).click(function(){if(!s.G.getUSERID())return void i.PopOut.login();var a=s(this),t=a.data("sendto");s("#Mess-toid").val(t.id),s(".abtn","#form-message").removeClass("abtn-no"),s("textarea","#Mess-send").val(""),i.PopOut.alert(['发送信息给<u class="red">'+t.name.cut(28,"…")+"</u>",e[0],""])})}function t(a,t,e){var n=s(a),r=n.find(".abtn");r.find("[type=submit]");r.hasClass("abtn-no")||(r.addClass("abtn-no"),s.ajax({url:"/napi/letter/create/",data:n.paramForm(),mysuccess:function(a,t){i.PopOut.alert('<div class="prompt prompt-success"><h3>发送消息成功！</h3></div>'),s({}).delay(1e3).queue(function(){i.PopOut.closeMask(0)})},myerror:function(){this.errormsg()}}).always(function(){r.removeClass("abtn-no")}))}return{init:a}}();a.exports=n},51:function(a,t,e){(function(a){!function(a){function t(a){a.preventDefault(),a.type="safeSubmit",e.handle?e.handle.apply(this,arguments):e.dispatch&&e.dispatch.apply(this,arguments)}var e=a.event;e.special;e.special.safeSubmit={setup:function(){var s=this;a(s);e.add(s,"submit",t)},teardown:function(){var s=this;a(s);e.remove(s,"submit",t)}},a.fn.safeSubmit=function(t,e,s){return"function"!=typeof s&&(s=e,e=t,t=null),s=s||function(){alert("请输入内容")},arguments.length>0?this.unbind("safeSubmit").bind("safeSubmit",t,function(t){var i=this,n=a(i),r=a("input[type=text],textarea",n).not("[data-optional]"),l=a("[type=submit]",n);safe=!0,r.each(function(t,e){""===a.trim(a(e).val())&&safe&&(safe=!1)}),l.each(function(t,e){a(e).prop("disabled")&&safe&&(safe=!1)}),safe?e.call(this,arguments):s.call(this,arguments)}):this.trigger("safeSubmit")}}(a)}).call(t,e(1))},73:function(a,t,e){(function(a){!function(a){function t(a){var t=a.baseurl,e='<div class="pager"><div class="pbr woo-mpbr"><ul class="dib">';if(a.nowpage>1){var s=t+"?page="+(a.nowpage-1)+a.newsearcharg;e=e+'<li><a class="pre" href="'+s+'">上一页</a></li>'}if(1!=a.start_page){var i=t+"?page=1"+a.newsearcharg;e=e+'<li><a href="'+i+'">1</a></li>'}for(a.start_page>2&&(e+=' <li class="ell">...</li>'),idx=a.start_page;idx<a.end_page+1;idx++)if(a.nowpage===idx)e=e+'<li class="cur">'+idx+"</li>";else{var n=a.baseurl+"?page="+idx+a.newsearcharg;e=e+'<li><a href="'+n+'">'+idx+"</a></li>"}if(a.end_page!=a.totalpage)if(a.end_page<a.totalpage-1)e+='<li class="ell">...</li>';else{var r=t+"?page="+idx+a.newsearcharg;e=e+'<li><a href="'+r+'">'+a.totalpage+"</a></li>"}if(a.nowpage<a.totalpage){var l=t+"?page="+(a.nowpage+1)+a.newsearcharg;e=e+'<li><a class="nxt nxtw" href="'+l+'">下一页</a></li>'}return e=e+'<li class="pbrw">'+a.total+'条 / <span id="G-totalpagenum">'+a.totalpage+"</span> 页</li>",e+="</ul></div></div>"}function e(a,t,e,i,n){var r={};r.total=e,r.baseurl=i,r.searcharg=n,r.pagelist=[],r.totalpage=Math.ceil(e/t),r.nowpage=parseInt(a/t),r.start_page=r.nowpage-3>1?r.nowpage-3:1,r.end_page=r.nowpage+3<r.totalpage?r.nowpage+3:r.totalpage,r.newsearcharg=s(n),1!==r.nowpage&&(r.prevpage=r.nowpage-1),r.nowpage!==r.totalpage&&(r.nextpage=r.nowpage+1);for(var l=r.start_page;l<r.end_page+1;l++)r.pagelist.push(l);return r}function s(t){var e="";return a.each(t,function(a,t){var s="&"+a+"="+t;e+=s}),e}a.fn.paginator=function(s){var i=a(this),n=a.extend({},a.fn.paginator.defaults,s),r=e(n.next_start,n.limit,n.total,n.baseurl,n.searcharg),l=t(r);i.html(l)},a.fn.paginator.defaults={next_start:0,limit:10}}(a)}).call(t,e(1))}});